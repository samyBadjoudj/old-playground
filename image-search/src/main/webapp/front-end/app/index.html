<!DOCTYPE html>
<html data-ng-app="app">
<head>
    <!-- meta content -->
    <meta charset="utf-8">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image search</title>
    <!-- build:css ../build/css/app.min.css -->
    <link rel="stylesheet" href="css/app.css">
    <link rel="stylesheet" href="lib/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="lib/bootstrap/css/bootstrap-theme.min.css">
    <!-- endbuild -->
</head>
<body data-ng-controller="FileUploadController" style="padding: 20px">
<form data-ng-submit="uploadFile()" class="form-horizontal" enctype="multipart/form-data">
    <div class="panel panel-primary">
        <div class="panel-heading">
            <h3 class="panel-title">Upload your image here!</h3>
        </div>
        <div class="panel-body">
               <span>
                   <input type="file" name="file" data-ng-model="document.fileInput" id="file"/>
                   <br/> <h3>Image query</h3>
                   <span style="text-align: right;" data-ng-if="currentImageId !=- 1">

                       <a href="{{getImageUrl(abosoluteUrlOriginals,currentImageId)}}" target="_blank">
                           <img src="{{getImageUrl(abosoluteUrlThumbs,currentImageId)}}" alt=""/>
                       </a>
                   </span>
                   <br/>
               </span>
        </div>
        <div class="panel-footer">
            <input class="btn btn-primary" type="submit"/>
        </div>
    </div>
</form>
<br/>
<br/>
<br/>
<div class="row">
    <div data-ng-repeat="item in similarities">
        <div class="col-md-2">
            rank : {{$index+1}}
            <div data-ng-if="currentImageId == item.imageId1">
                <a href="{{getImageUrl(abosoluteUrlOriginals,item.imageId2)}}" target="_blank">
                    <img src="{{getImageUrl(abosoluteUrlThumbs,item.imageId2)}}" alt=""/>
                </a>
            </div>
            <div data-ng-if="currentImageId == item.imageId2">
                <a href="{{getImageUrl(abosoluteUrlOriginals,item.imageId1)}}" target="_blank">
                    <img src="{{getImageUrl(abosoluteUrlThumbs,item.imageId1)}}" alt=""/>
                </a>
            </div>
            score : {{item.similarity}}
            <br/>
            <br/>
            <br/>
        </div>
    </div>
</div>
<script src="lib/jquery.min.js"></script>
<script>
    $.noConflict();
</script>
<script src="lib/spin.min.js"></script>
<script src="lib/angular.min.js"></script>
<script src="lib/angular-route.js"></script>
<!-- build:js ../build/js/app.min.js -->
<script src="js/app.js"></script>
<script src="js/services.js"></script>
<script src="js/controllers.js"></script>
<script src="js/filters.js"></script>
<script src="js/directives.js"></script>
<script src="lib/bootstrap/js/bootstrap.min.js"></script>
<!-- endbuild -->
</body>
</html>